{"ast":null,"code":"import _classCallCheck from\"/home/ts/Documents/aarone/new(29Dec)/socket-link/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/ts/Documents/aarone/new(29Dec)/socket-link/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/ts/Documents/aarone/new(29Dec)/socket-link/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/ts/Documents/aarone/new(29Dec)/socket-link/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import Button from'react-bootstrap/Button';import ActiveUser from'./ActiveUser.jsx';var socket=new WebSocket('ws://localhost:3333');var ListOfActiveUsers=/*#__PURE__*/function(_React$Component){_inherits(ListOfActiveUsers,_React$Component);var _super=_createSuper(ListOfActiveUsers);function ListOfActiveUsers(props){var _this;_classCallCheck(this,ListOfActiveUsers);_this=_super.call(this,props);_this.state={expireUser:null,allUser:null,userMessage:null};return _this;}_createClass(ListOfActiveUsers,[{key:\"componentDidMount\",value:function componentDidMount(){this.setState({allUser:this.props.users,userMessage:this.props.usertextMessage});}// ListOfActiveUsers render when Listing in Active user(get used with props)\n},{key:\"render\",value:function render(){var _this2=this;var handleExpire=function handleExpire(index,user){// console.log(\"click on expire button\", index);\n// console.log(\"user length =>\", this.props.users.length);\nfor(var i in _this2.state.allUser){if(_this2.state.allUser[i]==user){_this2.state.allUser.splice(i,1);socket.onmessage=function(event){var activeUsersData=JSON.parse(event.data);var ActiveSet=activeUsersData.activeUsers.splice(i,1);// console.log(\"activeUsersData =>\", activeUsersData);\n// let MainData = { \"name\": activeUsersData && activeUsersData.activeUsers, \"userMessage\": \"\", \"roomName\": activeUsersData && activeUsersData.roomName };\n// socket.send(JSON.stringify(MainData));\n// console.log(\"activeUsersData && activeUsersData.activeUsers.length\", activeUsersData && activeUsersData.activeUsers.length);\nif(activeUsersData&&activeUsersData.activeUsers.length<3){var ChangeAllSet=activeUsersData.activeUsers.push(activeUsersData.users[0]);activeUsersData.users.shift();}// socket.send(activeUsersData);\n};break;// this.props.ExpireDataHere(this.state.allUser);\n}}};if(this.props.users.length){return/*#__PURE__*/React.createElement(\"div\",{className:\"listOfActiveUsers\"},/*#__PURE__*/React.createElement(\"h5\",null,/*#__PURE__*/React.createElement(\"b\",null,\"Currently Exploring\")),this.state.allUser&&this.state.allUser.map(function(user,index){return/*#__PURE__*/React.createElement(\"div\",{className:\"expire-section\"},/*#__PURE__*/React.createElement(ActiveUser,{user:user}),/*#__PURE__*/React.createElement(Button,{onClick:function onClick(){return handleExpire(index,user);}},\"Expire\"));}));}else return null;}}]);return ListOfActiveUsers;}(React.Component);export default ListOfActiveUsers;","map":{"version":3,"sources":["/home/ts/Documents/aarone/new(29Dec)/socket-link/my-app/src/Components/ListOfActiveUsers.jsx"],"names":["React","Button","ActiveUser","socket","WebSocket","ListOfActiveUsers","props","state","expireUser","allUser","userMessage","setState","users","usertextMessage","handleExpire","index","user","i","splice","onmessage","event","activeUsersData","JSON","parse","data","ActiveSet","activeUsers","length","ChangeAllSet","push","shift","map","Component"],"mappings":"wqBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,wBAAnB,CACA,MAAOC,CAAAA,UAAP,KAAuB,kBAAvB,CACA,GAAMC,CAAAA,MAAM,CAAG,GAAIC,CAAAA,SAAJ,CAAc,qBAAd,CAAf,C,GAEMC,CAAAA,iB,kIACF,2BAAYC,KAAZ,CAAmB,mDACf,uBAAMA,KAAN,EACA,MAAKC,KAAL,CAAa,CACTC,UAAU,CAAE,IADH,CAETC,OAAO,CAAE,IAFA,CAGTC,WAAW,CAAE,IAHJ,CAAb,CAFe,aAOlB,C,2FAEmB,CAChB,KAAKC,QAAL,CAAc,CAAEF,OAAO,CAAE,KAAKH,KAAL,CAAWM,KAAtB,CAA6BF,WAAW,CAAE,KAAKJ,KAAL,CAAWO,eAArD,CAAd,EACH,CACD;uCACS,iBACL,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,KAAD,CAAQC,IAAR,CAAiB,CAClC;AACA;AACA,IAAK,GAAIC,CAAAA,CAAT,GAAc,CAAA,MAAI,CAACV,KAAL,CAAWE,OAAzB,CAAkC,CAC9B,GAAI,MAAI,CAACF,KAAL,CAAWE,OAAX,CAAmBQ,CAAnB,GAAyBD,IAA7B,CAAmC,CAC/B,MAAI,CAACT,KAAL,CAAWE,OAAX,CAAmBS,MAAnB,CAA0BD,CAA1B,CAA6B,CAA7B,EACAd,MAAM,CAACgB,SAAP,CAAmB,SAAAC,KAAK,CAAI,CACxB,GAAIC,CAAAA,eAAe,CAAGC,IAAI,CAACC,KAAL,CAAWH,KAAK,CAACI,IAAjB,CAAtB,CACA,GAAIC,CAAAA,SAAS,CAAGJ,eAAe,CAACK,WAAhB,CAA4BR,MAA5B,CAAmCD,CAAnC,CAAsC,CAAtC,CAAhB,CACA;AACA;AACA;AACA;AACA,GAAII,eAAe,EAAIA,eAAe,CAACK,WAAhB,CAA4BC,MAA5B,CAAqC,CAA5D,CAA+D,CAC3D,GAAIC,CAAAA,YAAY,CAAGP,eAAe,CAACK,WAAhB,CAA4BG,IAA5B,CAAiCR,eAAe,CAACT,KAAhB,CAAsB,CAAtB,CAAjC,CAAnB,CACAS,eAAe,CAACT,KAAhB,CAAsBkB,KAAtB,GACH,CACD;AACH,CAZD,CAaA,MACA;AACH,CACJ,CACJ,CAvBD,CAwBA,GAAI,KAAKxB,KAAL,CAAWM,KAAX,CAAiBe,MAArB,CAA6B,CACzB,mBACI,2BAAK,SAAS,CAAC,mBAAf,eACI,2CAAI,mDAAJ,CADJ,CAEK,KAAKpB,KAAL,CAAWE,OAAX,EAAsB,KAAKF,KAAL,CAAWE,OAAX,CAAmBsB,GAAnB,CAAuB,SAACf,IAAD,CAAOD,KAAP,CAAiB,CAC3D,mBAAQ,2BAAK,SAAS,CAAC,gBAAf,eAAgC,oBAAC,UAAD,EAAY,IAAI,CAAEC,IAAlB,EAAhC,cAA0D,oBAAC,MAAD,EAAQ,OAAO,CAAE,yBAAMF,CAAAA,YAAY,CAACC,KAAD,CAAQC,IAAR,CAAlB,EAAjB,WAA1D,CAAR,CACH,CAFsB,CAF3B,CADJ,CAQH,CATD,IASO,OAAO,KAAP,CACV,C,+BAjD2BhB,KAAK,CAACgC,S,EAoDtC,cAAe3B,CAAAA,iBAAf","sourcesContent":["import React from 'react';\nimport Button from 'react-bootstrap/Button';\nimport ActiveUser from './ActiveUser.jsx';\nconst socket = new WebSocket('ws://localhost:3333');\n\nclass ListOfActiveUsers extends React.Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            expireUser: null,\n            allUser: null,\n            userMessage: null\n        }\n    }\n\n    componentDidMount() {\n        this.setState({ allUser: this.props.users, userMessage: this.props.usertextMessage })\n    }\n    // ListOfActiveUsers render when Listing in Active user(get used with props)\n    render() {\n        const handleExpire = (index, user) => {\n            // console.log(\"click on expire button\", index);\n            // console.log(\"user length =>\", this.props.users.length);\n            for (var i in this.state.allUser) {\n                if (this.state.allUser[i] == user) {\n                    this.state.allUser.splice(i, 1);\n                    socket.onmessage = event => {\n                        let activeUsersData = JSON.parse(event.data);\n                        let ActiveSet = activeUsersData.activeUsers.splice(i, 1);\n                        // console.log(\"activeUsersData =>\", activeUsersData);\n                        // let MainData = { \"name\": activeUsersData && activeUsersData.activeUsers, \"userMessage\": \"\", \"roomName\": activeUsersData && activeUsersData.roomName };\n                        // socket.send(JSON.stringify(MainData));\n                        // console.log(\"activeUsersData && activeUsersData.activeUsers.length\", activeUsersData && activeUsersData.activeUsers.length);\n                        if (activeUsersData && activeUsersData.activeUsers.length < 3) {\n                            let ChangeAllSet = activeUsersData.activeUsers.push(activeUsersData.users[0]);\n                            activeUsersData.users.shift();\n                        }\n                        // socket.send(activeUsersData);\n                    }\n                    break;\n                    // this.props.ExpireDataHere(this.state.allUser);\n                }\n            }\n        }\n        if (this.props.users.length) {\n            return (\n                <div className='listOfActiveUsers'>\n                    <h5><b>Currently Exploring</b></h5>\n                    {this.state.allUser && this.state.allUser.map((user, index) => {\n                        return (<div className=\"expire-section\"><ActiveUser user={user} /><Button onClick={() => handleExpire(index, user)}>Expire</Button></div>)\n                    })}\n                </div>\n            )\n        } else return null;\n    }\n}\n\nexport default ListOfActiveUsers;"]},"metadata":{},"sourceType":"module"}